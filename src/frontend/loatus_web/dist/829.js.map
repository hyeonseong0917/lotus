{"version":3,"file":"829.js","mappings":"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","sources":["webpack://loatus_web/./components/Header/index.tsx","webpack://loatus_web/./layouts/MainPage/index.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Typography from '@mui/material/Typography';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport Container from '@mui/material/Container';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Button from '@mui/material/Button';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport AdbIcon from '@mui/icons-material/Adb';\r\nimport useToken from '@hooks/useToken';\r\nimport { useCookies } from 'react-cookie';\r\nimport useSWRRetry from '@hooks/useSWRRetry';\r\nimport { useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { Link } from 'react-router-dom';\r\nimport gravatar from 'gravatar';\r\n\r\nconst pages = [\r\n  { name: '파티구하기', param: '/channels' },\r\n  { name: '커뮤니티', param: '/board/lists' },\r\n  { name: '매칭', param: '/matching' },\r\n];\r\n\r\nfunction Header() {\r\n  const accessToken = localStorage.getItem('accessToken');\r\n  const [token] = useCookies(['refreshToken']);\r\n  const [anchorElNav, setAnchorElNav] = React.useState<null | HTMLElement>(null);\r\n  const [anchorElUser, setAnchorElUser] = React.useState<null | HTMLElement>(null);\r\n  const { data: userData, error, mutate } = useSWRRetry(process.env.REACT_APP_DB_HOST + '/auth/my', token.refreshToken);\r\n\r\n  const onClickLogout = useCallback(() => {\r\n    axios\r\n      .get(process.env.REACT_APP_DB_HOST + '/auth/logout', {\r\n        headers: {\r\n          Authorization: 'Bearer ' + accessToken,\r\n        },\r\n        withCredentials: false,\r\n      })\r\n      .then((response) => {\r\n        toast.success(response.data.message, {\r\n          position: 'top-right',\r\n        });\r\n        mutate(null);\r\n      })\r\n      .catch((error) => {\r\n        toast.error('오류가 발생했습니다.\\n기술팀에 문의하세요!', {\r\n          position: 'top-right',\r\n        });\r\n      });\r\n  }, []);\r\n  const handleOpenNavMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorElNav(event.currentTarget);\r\n  };\r\n  const handleOpenUserMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorElUser(event.currentTarget);\r\n  };\r\n\r\n  const handleCloseNavMenu = () => {\r\n    setAnchorElNav(null);\r\n  };\r\n\r\n  const handleCloseUserMenu = () => {\r\n    setAnchorElUser(null);\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Container maxWidth=\"xl\">\r\n        <Toolbar disableGutters>\r\n          <AdbIcon sx={{ display: { xs: 'none', md: 'flex' }, mr: 1 }} />\r\n          <Typography\r\n            variant=\"h6\"\r\n            noWrap\r\n            component={Link}\r\n            to=\"/\"\r\n            sx={{\r\n              mr: 2,\r\n              display: { xs: 'none', md: 'flex' },\r\n              fontFamily: 'Noto Sans KR, sans-serif',\r\n              fontWeight: 700,\r\n              letterSpacing: '.3rem',\r\n              color: 'inherit',\r\n              textDecoration: 'none',\r\n            }}\r\n          >\r\n            LOATUS\r\n          </Typography>\r\n          <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>\r\n            {pages.map((page) => (\r\n              <Button\r\n                component={Link}\r\n                key={page.name}\r\n                to={page.param}\r\n                onClick={handleCloseNavMenu}\r\n                sx={{ my: 2, color: 'white', display: 'block' }}\r\n              >\r\n                {page.name}\r\n              </Button>\r\n            ))}\r\n          </Box>\r\n          <Box sx={{ flexGrow: 0 }}>\r\n            {userData ? (\r\n              <>\r\n                <Tooltip title=\"Open settings\">\r\n                  <div>\r\n                    <IconButton onClick={handleOpenUserMenu} sx={{ p: 0 }}>\r\n                      <Avatar\r\n                        alt={userData.characterName || userData.nickname}\r\n                        src={userData.profileImage || gravatar.url(userData.email, { s: '25', d: 'retro' })}\r\n                      />\r\n                      &nbsp;<span>{userData.characterName || userData.nickname}</span>\r\n                    </IconButton>\r\n                  </div>\r\n                </Tooltip>\r\n                <Menu\r\n                  sx={{ mt: '45px' }}\r\n                  id=\"menu-appbar\"\r\n                  anchorEl={anchorElUser}\r\n                  anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  keepMounted\r\n                  transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                  }}\r\n                  open={Boolean(anchorElUser)}\r\n                  onClose={handleCloseUserMenu}\r\n                >\r\n                  <MenuItem component={Link} to=\"/my\" onClick={handleCloseUserMenu}>\r\n                    <Typography textAlign=\"center\">프로필</Typography>\r\n                  </MenuItem>\r\n                  <MenuItem component={Link} to={userData.stoveNo ? '/select' : '/auth'} onClick={handleCloseUserMenu}>\r\n                    <Typography textAlign=\"center\">{userData.stoveNo ? '대표캐릭터 설정' : '인증'}</Typography>\r\n                  </MenuItem>\r\n                  <MenuItem onClick={onClickLogout}>\r\n                    <Typography textAlign=\"center\">로그아웃</Typography>\r\n                  </MenuItem>\r\n                </Menu>\r\n              </>\r\n            ) : (\r\n              <Typography\r\n                textAlign=\"center\"\r\n                variant=\"h6\"\r\n                noWrap\r\n                component={Link}\r\n                to={'/login'}\r\n                sx={{\r\n                  mr: 2,\r\n                  display: { xs: 'none', md: 'flex' },\r\n                  fontFamily: 'Noto Sans KR, sans-serif',\r\n                  fontWeight: 700,\r\n                  letterSpacing: '.3rem',\r\n                  color: 'inherit',\r\n                  textDecoration: 'none',\r\n                }}\r\n              >\r\n                로그인\r\n              </Typography>\r\n            )}\r\n          </Box>\r\n        </Toolbar>\r\n      </Container>\r\n    </AppBar>\r\n  );\r\n}\r\nexport default Header;\r\n","import React from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { Outlet } from 'react-router';\r\nimport Header from '@components/Header';\r\nimport { Container, createTheme, Grid, ThemeProvider } from '@mui/material';\r\n\r\nconst MainPage = () => {\r\n  const darkTheme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#525252',\r\n        contrastText: '#000000',\r\n      },\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <ThemeProvider theme={darkTheme}>\r\n        <Header />\r\n        <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item style={{ paddingTop: '2rem' }}>\r\n            <Outlet />\r\n          </Grid>\r\n        </Grid>\r\n        <ToastContainer />\r\n      </ThemeProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n"],"names":["pages","name","param","accessToken","localStorage","getItem","token","useCookies","React","setAnchorElNav","anchorElUser","setAnchorElUser","useSWRRetry","process","refreshToken","userData","data","mutate","error","onClickLogout","useCallback","axios","headers","Authorization","withCredentials","then","response","toast","message","position","catch","handleCloseNavMenu","handleCloseUserMenu","AppBar","Container","maxWidth","Toolbar","disableGutters","Adb","sx","display","xs","md","mr","Typography","variant","noWrap","component","Link","to","fontFamily","fontWeight","letterSpacing","color","textDecoration","Box","flexGrow","map","page","Button","key","onClick","my","Tooltip","title","IconButton","event","currentTarget","p","Avatar","alt","characterName","nickname","src","profileImage","gravatar","email","s","d","Menu","mt","id","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","MenuItem","textAlign","stoveNo","darkTheme","createTheme","palette","primary","main","contrastText","ThemeProvider","theme","Grid","container","direction","justifyContent","alignItems","item","style","paddingTop"],"sourceRoot":""}